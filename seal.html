<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seals of Antarctica | Antarctica Life</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Use Inter font and fallback to a clean Thai font -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Noto+Sans+Thai:wght@100..900&display=swap');
        body {
            font-family: 'Inter', 'Noto Sans Thai', sans-serif;
            background-color: #F8FAFC; 
            scroll-behavior: smooth;
        }
        /* Custom Theme Colors/Styles */
        .text-natgeo-blue {
            color: #004680;
        }
        .bg-ice-blue-light {
             background-color: #E6F7FF;
        }
        .university-logo {
            filter: brightness(0.5) sepia(1) saturate(5) hue-rotate(190deg);
        }
        .hero-bg-seal {
            background-image: url('https://sp-ao.shortpixel.ai/client/to_auto,q_lossy,ret_img,w_1024,h_576/https://www.swoop-antarctica.com/blog/wp-content/uploads/2024/09/53567344814_1e89530373_5k-1-1024x576.jpg');
            background-size: cover;
            background-position: center 30%; 
            position: relative;
        }
        .hero-overlay {
            background-color: rgba(0, 70, 128, 0.5); 
        }
        .card-image-seal {
            height: 250px;
            width: 100%;
            object-fit: cover;
            transition: transform 0.3s ease-in-out;
        }
        .card-item:hover .card-image-seal {
            transform: scale(1.05);
        }
         /* Dropdown transition for smooth open/close (Copied from index.html) */
        .dropdown-menu-transition {
            transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform-origin: top;
        }
        .dropdown-hidden {
            opacity: 0;
            transform: scaleY(0.9);
            visibility: hidden;
            pointer-events: none;
        }
        .dropdown-visible {
            opacity: 1;
            transform: scaleY(1);
            visibility: visible;
            pointer-events: auto;
        }
        /* Modal specific styles */
        .modal {
            transition: opacity 0.3s ease-in-out;
        }
        .modal-content {
            transition: transform 0.3s ease-in-out;
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- 1. NAVIGATION BAR (Sticky, Deep Blue) -->
    <nav class="sticky top-0 z-50 bg-white shadow-lg border-b-4 border-natgeo-blue">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <a href="index.html" class="flex-shrink-0 flex items-center text-2xl font-extrabold text-natgeo-blue tracking-wider">
                        <img src="new_logo_spu04.gif" alt="SPU University Logo" class="w-16 h-auto mr-2 university-logo">
                        ANTARCTICA LIFE
                    </a>
                </div>
                <!-- Navigation Links -->
                <div class="hidden sm:ml-6 sm:flex sm:space-x-8 items-center">
                    <a href="index.html#home" class="text-gray-600 hover:text-natgeo-blue px-3 py-2 rounded-lg transition duration-150">หน้าแรก</a>
                    <a href="index.html#about" class="text-gray-600 hover:text-natgeo-blue px-3 py-2 rounded-lg transition duration-150">แผ่นน้ำแข็ง</a>
                    
                    <!-- Click-Toggled Dropdown Menu for Wildlife -->
                    <div class="relative" id="wildlife-dropdown-container">
                        <button id="wildlife-dropdown-btn" class="text-natgeo-blue font-semibold px-3 py-2 rounded-lg transition duration-150 flex items-center focus:outline-none bg-blue-50" aria-expanded="false">
                            สิ่งมีชีวิต
                            <svg class="ml-1 w-4 h-4 transition duration-150" id="dropdown-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                        </button>
                        <!-- The Menu: Initially hidden (dropdown-hidden) -->
                        <div id="wildlife-dropdown-menu" class="absolute right-0 mt-3 py-2 bg-white rounded-lg shadow-xl border-2 border-natgeo-blue overflow-hidden z-40
                                    dropdown-menu-transition dropdown-hidden">
                            <a href="seal.html" class="block px-4 py-2 text-natgeo-blue font-semibold bg-blue-100 transition duration-150 min-w-[150px]">แมวน้ำ (Seal)</a>
                            <a href="polarbear.html" class="block px-4 py-2 text-gray-700 hover:bg-blue-100 hover:text-natgeo-blue transition duration-150 min-w-[150px]">หมีขั้วโลก (Polar Bear)</a>
                            <a href="penguin.html" class="block px-4 py-2 text-gray-700 hover:bg-blue-100 hover:text-natgeo-blue transition duration-150">เพนกวิน (Penguin)</a>
                            <a href="orca.html" class="block px-4 py-2 text-gray-700 hover:bg-blue-100 hover:text-natgeo-blue transition duration-150">วาฬเพชฌฆาต (Orca)</a>
                            <a href="misc.html" class="block px-4 py-2 text-gray-700 hover:bg-blue-100 hover:text-natgeo-blue transition duration-150">เบ็ดเตล็ด (Misc.)</a>
                        </div>
                    </div>

                    <!-- Group 10 Member Button -->
                    <a href="group.html" class="bg-white text-natgeo-blue font-bold px-4 py-2 rounded-full shadow-lg border-2 border-natgeo-blue hover:bg-natgeo-blue hover:text-white transition duration-150">
                        สมาชิกกลุ่ม (Group 10 Member)
                    </a>
                </div>
                <!-- Mobile Menu Button (JS handles the toggle) -->
                <div class="-mr-2 flex items-center sm:hidden">
                    <button id="mobile-menu-btn" type="button" class="inline-flex items-center justify-center p-2 rounded-md text-natgeo-blue hover:text-white hover:bg-natgeo-blue focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white">
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" /></svg>
                    </button>
                </div>
            </div>
        </div>
        <!-- Mobile Menu (Hidden by default) -->
        <div class="sm:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="index.html#home" class="bg-natgeo-blue text-white block px-3 py-2 rounded-md text-base font-medium">หน้าแรก (Home)</a>
                <a href="index.html#about" class="text-natgeo-blue hover:bg-blue-100 block px-3 py-2 rounded-md text-base font-medium">แผ่นน้ำแข็ง (The Ice Sheet)</a>
                <a href="#wildlife" class="text-natgeo-blue hover:bg-blue-100 block px-3 py-2 rounded-md text-base font-medium font-bold bg-blue-50">สิ่งมีชีวิต (Dropdown Parent)</a>
                <a href="seal.html" class="text-natgeo-blue hover:bg-blue-100 block pl-8 pr-3 py-1 rounded-md text-sm font-medium bg-blue-100">-- แมวน้ำ (Seal)</a>
                <a href="polarbear.html" class="text-natgeo-blue hover:bg-blue-100 block pl-8 pr-3 py-1 rounded-md text-sm font-medium">-- หมีขั้วโลก (Polar Bear)</a>
                <a href="penguin.html" class="text-natgeo-blue hover:bg-blue-100 block pl-8 pr-3 py-1 rounded-md text-sm font-medium">-- เพนกวิน (Penguin)</a>
                <a href="orca.html" class="text-natgeo-blue hover:bg-blue-100 block pl-8 pr-3 py-1 rounded-md text-sm font-medium">-- วาฬเพชฌฆาต (Orca)</a>
                <a href="misc.html" class="text-natgeo-blue hover:bg-blue-100 block pl-8 pr-3 py-1 rounded-md text-sm font-medium">-- เบ็ดเตล็ด (Misc.)</a>
                <a href="group.html" class="text-natgeo-blue hover:bg-blue-100 block px-3 py-2 rounded-md text-base font-medium">สมาชิกกลุ่ม (Group 10 Member)</a>
            </div>
        </div>
    </nav>

    <!-- 2. HERO SECTION (Specific to Seals) -->
    <header class="hero-bg-seal h-[50vh] min-h-[300px] flex items-center justify-center shadow-xl">
        <div class="hero-overlay absolute inset-0"></div>
        <div class="relative text-center p-6 md:p-12">
            <h1 class="text-5xl md:text-7xl font-black text-white leading-tight mb-4 tracking-tighter drop-shadow-lg">
                แมวน้ำแห่งแอนตาร์กติกา
            </h1>
            <p class="text-xl md:text-2xl text-white font-light drop-shadow-md italic">
                The Ice Dwellers: Masters of the Southern Ocean
            </p>
        </div>
    </header>

    <!-- 3. SEAL GALLERY -->
    <main class="max-w-7xl mx-auto px-6 lg:px-8 py-16">
        <h2 class="text-4xl font-extrabold text-center mb-12 text-natgeo-blue border-b-4 border-ice-blue pb-4">
            Three Remarkable Species | สามสายพันธุ์ที่น่าทึ่ง
        </h2>

        <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
            
            <!-- Card 1: Weddell Seal -->
            <div class="bg-white rounded-xl shadow-2xl overflow-hidden card-item border-b-8 border-natgeo-blue hover:shadow-3xl transition duration-300">
                <div class="overflow-hidden">
                    <img src="https://www.coolantarctica.com/Antarctica%20fact%20file/wildlife/wedd-pup-sing.webp" class="card-image-seal" alt="Weddell Seal">
                </div>
                <div class="p-6">
                    <h3 class="text-3xl font-bold text-natgeo-blue mb-3">Weddell Seal | แมวน้ำเวดเดลล์</h3>
                    <p class="text-gray-600 mb-4">
                        **English:** These are known for their impressive underwater vocalizations and ability to dive deep beneath the ice, often found near breathing holes in the thick fast ice.
                    </p>
                    <p class="text-natgeo-blue font-medium mb-4 border-t pt-4">
                        **Thai (ไทย):** มีชื่อเสียงจากการส่งเสียงร้องใต้น้ำที่น่าทึ่งและความสามารถในการดำน้ำลึกใต้ผืนน้ำแข็งที่หนา พวกมันมักจะถูกพบใกล้กับรูหายใจ
                    </p>
                    <div class="mt-auto pt-4 border-t border-gray-200">
                        <p class="text-sm text-gray-700 font-semibold mb-1"><strong>Estimated Population:</strong> ~800,000</p>
                        <button onclick="openModal('weddell')" class="text-natgeo-blue font-medium hover:underline flex items-center">View Research Log / ดูบันทึก →</button>
                    </div>
                </div>
            </div>

            <!-- Card 2: Harp Seal -->
            <div class="bg-white rounded-xl shadow-2xl overflow-hidden card-item border-b-8 border-natgeo-blue hover:shadow-3xl transition duration-300">
                <div class="overflow-hidden">
                    <img src="https://cdn.shopify.com/s/files/1/0996/1022/files/8_fcef39e2-ffcf-4e99-8c6d-c8cb5b6ab42f.jpg?v=1737648048&width=2048" class="card-image-seal" alt="Harp Seal">
                </div>
                <div class="p-6">
                    <h3 class="text-3xl font-bold text-natgeo-blue mb-3">Harp Seal | แมวน้ำพิณ</h3>
                    <p class="text-gray-600 mb-4">
                        **English:** Famous for their pure white pups, Harp seals are highly migratory and found primarily in the Arctic and North Atlantic, known for their large population.
                    </p>
                    <p class="text-natgeo-blue font-medium mb-4 border-t pt-4">
                        **Thai (ไทย):** มีชื่อเสียงจากลูกแมวน้ำที่มีขนสีขาวบริสุทธิ์ แมวน้ำพิณมีการอพยพสูงและพบในอาร์กติกและแอตแลนติกเหนือเป็นหลัก
                    </p>
                    <div class="mt-auto pt-4 border-t border-gray-200">
                        <p class="text-sm text-gray-700 font-semibold mb-1"><strong>Population Estimate:</strong> 7.6 million</p>
                        <button onclick="openModal('harp')" class="text-natgeo-blue font-medium hover:underline flex items-center">Explore Migration Routes / ดูเส้นทาง →</button>
                    </div>
                </div>
            </div>

            <!-- Card 3: Leopard Seal -->
            <div class="bg-white rounded-xl shadow-2xl overflow-hidden card-item border-b-8 border-natgeo-blue hover:shadow-3xl transition duration-300">
                <div class="overflow-hidden">
                    <img src="https://www.voyagers.travel/_ipx/w_2400&f_webp&q_85/google/travel-web-app-1.appspot.com/flamelink/media/Leopard%20Seal%20-%20Canva%20-%20Gerald%20%20Corsi.jpg%3Falt=media" class="card-image-seal" alt="Leopard Seal">
                </div>
                <div class="p-6">
                    <h3 class="text-3xl font-bold text-natgeo-blue mb-3">Leopard Seal | แมวน้ำเสือดาว</h3>
                    <p class="text-gray-600 mb-4">
                        **English:** The apex predator of the Antarctic, known for its powerful jaws and distinctive spotted coat. It is the only seal that preys on warm-blooded animals, including penguins.
                    </p>
                    <p class="text-natgeo-blue font-medium mb-4 border-t pt-4">
                        **Thai (ไทย):** นักล่าอันดับสูงสุดของแอนตาร์กติกา มีชื่อเสียงด้านกรามที่แข็งแกร่งและลวดลายจุดที่โดดเด่น เป็นแมวน้ำชนิดเดียวที่ล่าสัตว์เลือดอุ่น เช่น เพนกวิน
                    </p>
                    <div class="mt-auto pt-4 border-t border-gray-200">
                        <p class="text-sm text-gray-700 font-semibold mb-1"><strong>Population Estimate:</strong> 220,000 - 440,000</p>
                        <button onclick="openModal('leopard')" class="text-natgeo-blue font-medium hover:underline flex items-center">Predatory Behavior / รายงานการล่า →</button>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <!-- 4. FOOTER (Consistent with index.html) -->
    <footer class="bg-ice-blue-light py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
            <p class="text-lg mb-2 text-natgeo-blue">&copy; 2024 Antarctica Life Expedition | สงวนลิขสิทธิ์ทั้งหมด</p>
            <p class="text-sm opacity-90 text-natgeo-blue">โครงการเพื่อการศึกษาและเผยแพร่ความรู้ ร่วมกับ มหาวิทยาลัยศรีปทุม</p>
        </div>
    </footer>


    <!-- MODAL 1: WEDDELL SEAL -->
    <div id="modal-weddell" class="modal fixed inset-0 bg-black bg-opacity-75 hidden z-50 overflow-y-auto" onclick="closeModal(event, 'weddell')">
        <div class="modal-content bg-white m-4 md:m-20 p-8 rounded-xl shadow-3xl max-w-4xl mx-auto transform translate-y-full" onclick="event.stopPropagation()">
            <div class="flex justify-between items-start border-b-2 border-natgeo-blue pb-4 mb-6">
                <h3 class="text-4xl font-extrabold text-natgeo-blue">Weddell Seal: ข้อมูลเชิงลึก</h3>
                <button class="text-gray-500 hover:text-gray-900 text-3xl font-light leading-none" onclick="closeModal(event, 'weddell')">&times;</button>
            </div>
            
            <div class="aspect-w-16 aspect-h-9 mb-6">
                <div class="video-container">
                    <iframe class="w-full h-80 rounded-lg shadow-xl" src="https://www.youtube.com/embed/M5E8gulPWh4?autoplay=0&rel=0" title="Weddell Seal Dive" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>

            <h4 class="text-2xl font-bold text-gray-700 mb-2">Weddell Seal Facts:</h4>
            <p class="text-lg text-gray-600 mb-4">
                **English:** Weddell Seals possess a modified circulatory system allowing them to stay underwater for over an hour and dive to depths of up to 600 meters. They use their teeth to constantly grind open breathing holes in the ice.
            </p>
            <!-- NEW THAI FUN FACT ADDED HERE -->
            <h4 class="text-2xl font-bold text-gray-700 mb-2 mt-4">เกร็ดน่ารู้ (Fun Fact):</h4>
            <p class="text-lg text-gray-600 mb-4">
                แมวน้ำเวดเดลล์สามารถดำน้ำได้ลึกถึง 600 เมตร และกลั้นหายใจได้นานถึง 90 นาที ซึ่งถือเป็นสถิติสูงสุดในบรรดาแมวน้ำ
            </p>
            <p class="text-lg text-natgeo-blue font-medium border-t pt-4">
                **Thai (ไทย):** แมวน้ำเวดเดลล์มีระบบไหลเวียนโลหิตที่ปรับเปลี่ยน ทำให้สามารถอยู่ใต้น้ำได้นานกว่าหนึ่งชั่วโมง และดำดิ่งลึกได้ถึง 600 เมตร พวกมันใช้ฟันในการขุดรูหายใจในน้ำแข็ง
            </p>
        </div>
    </div>

    <!-- MODAL 2: HARP SEAL -->
    <div id="modal-harp" class="modal fixed inset-0 bg-black bg-opacity-75 hidden z-50 overflow-y-auto" onclick="closeModal(event, 'harp')">
        <div class="modal-content bg-white m-4 md:m-20 p-8 rounded-xl shadow-3xl max-w-4xl mx-auto transform translate-y-full" onclick="event.stopPropagation()">
            <div class="flex justify-between items-start border-b-2 border-natgeo-blue pb-4 mb-6">
                <h3 class="text-4xl font-extrabold text-natgeo-blue">Harp Seal: ข้อมูลเชิงลึก</h3>
                <button class="text-gray-500 hover:text-gray-900 text-3xl font-light leading-none" onclick="closeModal(event, 'harp')">&times;</button>
            </div>
            
            <div class="aspect-w-16 aspect-h-9 mb-6">
                <div class="video-container">
                    <iframe class="w-full h-80 rounded-lg shadow-xl" src="https://www.youtube.com/embed/BG_zMQtYB_E?autoplay=0&rel=0" title="Harp Seal Documentary" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>

            <h4 class="text-2xl font-bold text-gray-700 mb-2">Harp Seal Facts:</h4>
            <p class="text-lg text-gray-600 mb-4">
                **English:** Harp Seals are highly social and form massive colonies during breeding season on the pack ice. Their white coats help camouflage pups from polar bears and other Arctic predators.
            </p>
            <!-- NEW THAI FUN FACT ADDED HERE -->
            <h4 class="text-2xl font-bold text-gray-700 mb-2 mt-4">เกร็ดน่ารู้ (Fun Fact):</h4>
            <p class="text-lg text-gray-600 mb-4">
                ลูกแมวน้ำพิณจะผลัดขนสีขาวบริสุทธิ์เมื่ออายุประมาณ 2-3 สัปดาห์ และจะว่ายน้ำได้ตั้งแต่นั้นเป็นต้นมา
            </p>
            <p class="text-lg text-natgeo-blue font-medium border-t pt-4">
                **Thai (ไทย):** แมวน้ำพิณเป็นสัตว์สังคมสูงและรวมตัวกันเป็นอาณานิคมขนาดใหญ่ในช่วงฤดูผสมพันธุ์บนแผ่นน้ำแข็ง เสื้อขนสีขาวของลูกแมวน้ำช่วยในการพรางตัวจากผู้ล่าในอาร์กติก
            </p>
        </div>
    </div>

    <!-- MODAL 3: LEOPARD SEAL -->
    <div id="modal-leopard" class="modal fixed inset-0 bg-black bg-opacity-75 hidden z-50 overflow-y-auto" onclick="closeModal(event, 'leopard')">
        <div class="modal-content bg-white m-4 md:m-20 p-8 rounded-xl shadow-3xl max-w-4xl mx-auto transform translate-y-full" onclick="event.stopPropagation()">
            <div class="flex justify-between items-start border-b-2 border-natgeo-blue pb-4 mb-6">
                <h3 class="text-4xl font-extrabold text-natgeo-blue">Leopard Seal: ข้อมูลเชิงลึก</h3>
                <button class="text-gray-500 hover:text-gray-900 text-3xl font-light leading-none" onclick="closeModal(event, 'leopard')">&times;</button>
            </div>
            
            <div class="aspect-w-16 aspect-h-9 mb-6">
                <div class="video-container">
                    <iframe class="w-full h-80 rounded-lg shadow-xl" src="https://www.youtube.com/embed/c35dz4DRSeI?autoplay=0&rel=0" title="Leopard Seal Hunting" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                </div>
            </div>

            <h4 class="text-2xl font-bold text-gray-700 mb-2">Leopard Seal Facts:</h4>
            <p class="text-lg text-gray-600 mb-4">
                **English:** Leopard Seals are solitary hunters. They use ambush tactics, often lying in wait near the water's edge to snatch penguins as they enter or exit the water. Their large size and powerful bite make them formidable.
            </p>
            <!-- NEW THAI FUN FACT ADDED HERE -->
            <h4 class="text-2xl font-bold text-gray-700 mb-2 mt-4">เกร็ดน่ารู้ (Fun Fact):</h4>
            <p class="text-lg text-gray-600 mb-4">
                แมวน้ำเสือดาวมีชื่อเสียงในด้านการล่าเพนกวิน โดยเฉพาะอย่างยิ่งการซุ่มรอที่ขอบน้ำแข็ง
            </p>
            <p class="text-lg text-natgeo-blue font-medium border-t pt-4">
                **Thai (ไทย):** แมวน้ำเสือดาวเป็นนักล่าที่อยู่โดดเดี่ยว พวกมันใช้กลยุทธ์ซุ่มโจมตี โดยจะรออยู่ใกล้ขอบน้ำเพื่อฉกฉวยเพนกวินขณะที่พวกมันเข้าหรือออกจากน้ำ ขนาดที่ใหญ่และการกัดที่ทรงพลังทำให้พวกมันน่าเกรงขาม
            </p>
        </div>
    </div>


    <!-- JavaScript -->
    <script>
        // 1. Mobile Menu Toggle
        document.getElementById('mobile-menu-btn').addEventListener('click', function() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        });

        // 2. Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                // Only prevent default if the target is on the same page
                if (this.href.indexOf('seal.html') > -1) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });

        // 3. Click-Toggled Dropdown Logic (for pages without on-page scrolling targets)
        const dropdownBtn = document.getElementById('wildlife-dropdown-btn');
        const dropdownMenu = document.getElementById('wildlife-dropdown-menu');
        const dropdownContainer = document.getElementById('wildlife-dropdown-container');
        const dropdownArrow = document.getElementById('dropdown-arrow');

        const toggleDropdown = () => {
            const isVisible = dropdownMenu.classList.toggle('dropdown-hidden');
            dropdownMenu.classList.toggle('dropdown-visible');
            dropdownBtn.setAttribute('aria-expanded', !isVisible);
            
            if (!isVisible) {
                dropdownArrow.classList.add('rotate-180');
            } else {
                dropdownArrow.classList.remove('rotate-180');
            }
        };

        dropdownBtn.addEventListener('click', toggleDropdown);

        // Close dropdown when clicking outside
        document.addEventListener('click', (event) => {
            if (dropdownMenu.classList.contains('dropdown-visible') && !dropdownContainer.contains(event.target)) {
                toggleDropdown();
            }
        });

        // 4. MODAL LOGIC 
        // Helper function to stop video playback
        const stopModalVideo = (modal) => {
            const iframe = modal.querySelector('iframe');
            if (iframe) {
                const iframeSrc = iframe.src;
                // Force reload of iframe src to stop video
                iframe.src = iframeSrc; 
            }
        };
        
        const openModal = (species) => {
            const modal = document.getElementById(`modal-${species}`);
            if (modal) {
                modal.classList.remove('hidden');
                modal.classList.add('flex', 'items-center', 'justify-center');
                setTimeout(() => {
                    modal.querySelector('.modal-content').classList.remove('translate-y-full');
                    modal.style.opacity = 1;
                }, 10);
                document.body.style.overflow = 'hidden';
            }
        };

        const closeModal = (event, species) => {
            const modal = document.getElementById(`modal-${species}`);
            if (modal) {
                // STOP THE VIDEO HERE
                stopModalVideo(modal);

                modal.querySelector('.modal-content').classList.add('translate-y-full');
                modal.style.opacity = 0;
                
                setTimeout(() => {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex', 'items-center', 'justify-center');
                    document.body.style.overflow = '';
                }, 300);
            }
        };

        // Allow closing modal with ESC key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const openModalElement = document.querySelector('.modal:not(.hidden)');
                if (openModalElement) {
                    const species = openModalElement.id.replace('modal-', '');
                    closeModal(e, species);
                }
            }
        });
    </script>

</body>
</html>